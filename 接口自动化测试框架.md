# 接口自动化测试框架
背景：接口自动化测试框架只需要编写YAML（EXCEL）测试用例即可完全实现零代码落地接口自动化测试。

企业实战：目前企业大多是使用都是该种自动化测试方法；

##### 一、核心技术：

1. 热加载封装，是全国最早应用自动化测试框架的封装；
2. requests统一请求封装；
3. 接口关联封装以及接口关联封装改进；
4. 规范YAML测试用例封装；
5. 统一接口断言封装，包括常规断言及数据库断言封装；
6. YAML测试用例数据驱动封装‘
7. base_url基础路径封装；
8. logging日志的封装；
9. 接口加密封装；
10. 接口签名封装；
11. 零代码极限封装；
12. 企业级allure报告的订制；
13. 其他：流程用例封装，异常处理封装，常规基础模块封装等。

> 注意事项：有关联用例，关联的上一个接口用例必须在上面（也可以放到a文件夹或者修改yaml的文件名来实现）

##### 二、YAML编写测试用例常规可用的关键词

```yaml
feature: 模块名（必填）
story: 接口名（必填）
title: 用例标题（必填）
request: 请求（必填）
		method: 请求发送（必填）
    url: 请求路径（必填）
		headers: 请求头
		params: URL之后的参数
		data: 表单数据
		json: json数据
		files: 文件上传
validate: 断言（必填）
		codes: 断言状态码
		equals: 相等断言
		contains: 包含断言
		db_equals: 数据断言
```



##### 三、单接口测试方法

只需要安装第二点常规关键字即可，填写数据就行了

##### 四、测试需要接口关联的接口通过extract关联字实现

​	上一个接口提取变量用extract关键字

extract：

​	token：ur(.*?)tp:       //正则表达式提取

​	order_id2:$.data.data[0].id     //json提取

下一个接口使用变量(token即extract提取的变量名)

​	${read_yaml(token)}

##### 五、测试需要数据驱动的接口通过parametrize关键字实现

```yaml
parametrize:
		- ["order_id","username","index"]
		- ["654646","admin","0"]
		- ["www","baidu",1]
```

使用方法：$ddt{token}



##### 六、断言

```yaml
validate:
		codes:
		equals:
		contains:
		db_equals:
```

##### 七、基础路径配置

在config.yaml文件里面设置基本路径，然后再yaml测试用例中使用${read_config(变量名)}